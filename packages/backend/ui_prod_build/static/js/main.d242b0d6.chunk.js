(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{55:function(e,n,t){},67:function(e,n,t){"use strict";t.r(n);var c=t(4),r=t(23),a=t(30),i=(t(55),t(14)),o=t(3),s=function(e){var n,t,r=e.sortBy,a=e.setSortBy,i=e.listVisible,o=e.setListVisible,s=e.loading,l=e.error,u=e.data,j="amount"===r?"name":"amount",b=u&&(n=u.allNames.slice(),"name"===r?n.sort((function(e,n){return e.name.localeCompare(n.name)})):n.sort((function(e,n){return n.amount-e.amount})));return Object(c.jsxs)("div",{children:[s&&Object(c.jsx)("p",{children:"Loading..."}),l&&Object(c.jsx)("p",{children:"Error!"}),b&&Object(c.jsxs)("div",{children:[Object(c.jsxs)("div",{className:"horizontal",children:[Object(c.jsx)("button",{onClick:function(){return a(j)},children:"Sort by ".concat(j)}),Object(c.jsx)("button",{onClick:function(){return o(!i)},children:"Search by name"})]}),Object(c.jsx)("ol",{children:b.map((function(e,n){return Object(c.jsx)("li",{children:"".concat(e.name,", amount: ").concat(e.amount,".")},n)}))}),Object(c.jsx)("p",{children:"Unique names: ".concat(b.length,".\n              Names in total: ").concat((t=b,t.reduce((function(e,n){return e+n.amount}),0)),".")})]})]})};function l(){var e=Object(a.a)(["\n  query GetName($name: String!) {\n    amount(name: $name)\n  }\n"]);return l=function(){return e},e}var u=Object(i.gql)(l()),j=function(e){var n=e.listVisible,t=e.setListVisible,a=e.data,s=Object(o.useState)("Ville"),l=Object(r.a)(s,2),j=l[0],b=l[1],d=Object(i.useLazyQuery)(u),m=Object(r.a)(d,2),O=m[0],h=m[1];return Object(o.useEffect)((function(){O({variables:{name:j}})}),[O,j]),Object(c.jsxs)("div",{children:[Object(c.jsx)("button",{onClick:function(){return t(!n)},children:"Go back"}),a&&Object(c.jsxs)("label",{children:["Search by name:",Object(c.jsx)("select",{value:j,onChange:function(e){return b(e.target.value)},children:a.allNames.map((function(e,n){return Object(c.jsx)("option",{value:e.name,children:e.name},n)}))})]}),h.loading&&"Loading...",h.error&&"Error!",h.data&&Object(c.jsx)("p",{children:"".concat(j,", amount: ").concat(h.data.amount,".")})]})},b=t(52),d=t.n(b),m=function(){return Object(c.jsxs)("div",{children:[Object(c.jsx)("h2",{children:"nappmono"}),Object(c.jsxs)("p",{children:["Name App Monorepo. Source on ",Object(c.jsx)("a",{href:"https://github.com/jalho/nappmono",children:"GitHub"}),"."]})]})};function O(){var e=Object(a.a)(["\n  query GetAllNames {\n    allNames {\n      name\n      amount\n    }\n  }\n"]);return O=function(){return e},e}var h=new i.InMemoryCache,p=Object(i.createHttpLink)({uri:"/graphql"}),x=new i.ApolloClient({cache:h,link:p}),f=Object(i.gql)(O()),v=function(){var e=Object(o.useState)("amount"),n=Object(r.a)(e,2),t=n[0],a=n[1],l=Object(o.useState)(!0),u=Object(r.a)(l,2),b=u[0],d=u[1],O=Object(i.useQuery)(f),h=O.loading,p=O.error,x=O.data;return Object(c.jsxs)("div",{children:[Object(c.jsx)(m,{}),b?Object(c.jsx)(s,{sortBy:t,setSortBy:a,listVisible:b,setListVisible:d,loading:h,error:p,data:x}):Object(c.jsx)(j,{listVisible:b,setListVisible:d,data:x})]})};d.a.render(Object(c.jsx)(i.ApolloProvider,{client:x,children:Object(c.jsx)(v,{})}),document.getElementById("root"))}},[[67,1,2]]]);
//# sourceMappingURL=main.d242b0d6.chunk.js.map